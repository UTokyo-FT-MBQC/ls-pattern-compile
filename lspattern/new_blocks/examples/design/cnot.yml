name: CNOT Canvas
description: Global config for rotated surface code based blocks

layout: rotated_surface_code # required
code_distance: 3 # required

cube:
  # Initialize control and target qubit in plus and zero state
  - position: [0, 0, 0]
    block: InitPlusBlock
    boundary: ZZXX
  - position: [1, 1, 0]
    block: InitZeroBlock
    boundary: ZZXX
  # initialize ancilla qubit in plus state and ZZ measure
  - position: [0, 0, 1]
    block: MemoryBlock
    boundary: ZZXO
  - position: [1, 0, 1]
    block: InitPlusBlock
    boundary: ZZOX
  - position: [1, 1, 1]
    block: MemoryBlock
    boundary: ZZXX
  # split
  - position: [0, 0, 2]
    block: MemoryBlock
    boundary: ZZXX
  - position: [1, 0, 2]
    block: MemoryBlock
    boundary: ZZXX
  - position: [1, 1, 2]
    block: MemoryBlock
    boundary: ZZXX
  # merge ancilla with target
  - position: [0, 0, 3]
    block: MemoryBlock
    boundary: ZZXX
  - position: [1, 0, 3]
    block: MemoryBlock
    boundary: ZOXX
  - position: [1, 1, 3]
    block: MemoryBlock
    boundary: OZXX
  # measure ancilla qubit
  - position: [0, 0, 4]
    block: MemoryBlock
    boundary: ZZXX
  - position: [1, 0, 4]
    block: MeasureZBlock
    boundary: ZZXX
    logical_observables: TB
  - position: [1, 1, 4]
    block: MemoryBlock
    boundary: ZZXX
  # measure control and target qubit
  - position: [0, 0, 5]
    block: MeasureZBlock
    boundary: ZZXX
    logical_observables: TB
  - position: [1, 1, 5]
    block: MeasureZBlock
    boundary: ZZXX
    logical_observables: TB

pipe:
  - start: [0, 0, 1]
    end: [1, 0, 1]
    block: InitPlusBlock
    boundary: ZZOO
    logical_observables: Z
  - start: [0, 0, 2]
    end: [1, 0, 2]
    block: MeasureXBlock
    boundary: ZZOO
    logical_observables: LR
  - start: [1, 0, 3]
    end: [1, 1, 3]
    block: InitZeroBlock
    boundary: OOXX
    logical_observables: X
  - start: [1, 0, 4]
    end: [1, 1, 4]
    block: MeasureZBlock
    boundary: OOXX
    logical_observables: TB

logical_observables:
  # XX observable
  # - cube: [[0, 0, 5], [1, 1, 5]] # control and target qubit X
    # pipe: [[[0, 0, 2], [1, 0, 2]], [[1, 0, 3], [1, 1, 3]]]
  # ZZ observable
  - cube: [[0, 0, 5], [1, 1, 5], [1, 0, 4]]
    pipe: [[[0, 0, 1], [1, 0, 1]], [[1, 0, 4], [1, 1, 4]]]
